{{ define "main" }}
    <div class="container mt-[var(--header-height)] pb-spacer">
        <div class="md-content {{ .Params.page_classes }}">
            <!-- Title -->
            <h1 class="text-heading-0 mb-12 inline-block relative after:content-[''] after:h-px after:w-1/3 after:bg-text-400 after:block after:absolute after:left-0 after:-bottom-[10px]">
                {{ .Title }}
            </h1>

            <!-- Table of Contents (Shows only if `toc: true`) -->
            {{ if .Params.toc }}
                {{ if .TableOfContents }}
                    <aside class="bg-gray-100 p-4 rounded-lg shadow-md mb-6">
                        <h2 class="text-lg font-semibold mb-2">Table of Contents</h2>
                        <div class="prose max-w-none">
                            {{ .TableOfContents }}
                        </div>
                    </aside>
                {{ else }}
                    <p><em>⚠️ No Table of Contents available. Check heading levels.</em></p>
                {{ end }}
            {{ end }}

            <!-- Article Content -->
            {{ .Content }}
        </div>
    </div>
{{ end }}

